--- a/bin/hipcc
+++ b/bin/hipcc
@@ -155,7 +155,7 @@
     }
 }
 
-if (defined $HIP_COMPILER and $HIP_PLATFORM eq "hcc" and $HIP_COMPILER eq "clang") {
+if (defined $HIP_COMPILER and ($HIP_PLATFORM eq "hcc" or $HIP_PLATFORM eq "rocclr") and $HIP_COMPILER eq "clang") {
   if (!defined $HIP_CLANG_PATH) {
     $HIP_CLANG_PATH = "$ROCM_PATH/llvm/bin";
   }
@@ -176,7 +176,7 @@
 
 $default_amdgpu_target = 1;
 
-if ($HIP_PLATFORM eq "hcc" and $HIP_COMPILER eq "clang") {
+if (($HIP_PLATFORM eq "hcc" or $HIP_PLATFORM eq "rocclr") and $HIP_COMPILER eq "clang") {
     $HIPCC="$HIP_CLANG_PATH/clang++";
 
     # If $HIPCC clang++ is not compiled, use clang instead
@@ -318,8 +318,8 @@
 
     $HIPLDFLAGS = " -Wno-deprecated-gpu-targets -lcuda -lcudart -L$CUDA_PATH/lib64";
 } else {
-    printf ("error: unknown HIP_PLATFORM = '$HIP_PLATFORM'");
-    printf ("       or HIP_COMPILER = '$HIP_COMPILER'");
+    print ("error: unknown HIP_PLATFORM = '$HIP_PLATFORM\n'");
+    print ("       or HIP_COMPILER = '$HIP_COMPILER'\n");
     exit (-1);
 }
 
@@ -441,7 +441,7 @@
          $targetsStr .=  substr($arg, length($targetOpt));
          $default_amdgpu_target = 0;
          # hip-clang does not accept --amdgpu-target= options.
-         if ($HIP_PLATFORM eq "hcc" and $HIP_COMPILER eq "clang") {
+         if (($HIP_PLATFORM eq "hcc" or $HIP_PLATFORM eq "rocclr") and $HIP_COMPILER eq "clang") {
              $swallowArg = 1;
          }
     }
@@ -655,7 +655,7 @@
         }
         elsif ((($arg =~ /\.cu$/ or $arg =~ /\.cuh$/) and $HIP_COMPILE_CXX_AS_HIP ne '0') or ($arg =~ /\.hip$/)) {
             $needCXXFLAGS = 1;
-            if ($HIP_PLATFORM eq "hcc" and $HIP_COMPILER eq "clang") {
+            if (($HIP_PLATFORM eq "hcc" or $HIP_PLATFORM eq "rocclr") and $HIP_COMPILER eq "clang") {
                 $hasHIP = 1;
                 $toolArgs .= " -x hip";
             } else {
@@ -774,7 +774,7 @@
 # Reason is that NVCC uses the file extension to determine whether to compile in CUDA mode or
 # pass-through CPP mode.
 
-if ($HIP_PLATFORM eq "hcc" and $HIP_COMPILER eq "clang") {
+if (($HIP_PLATFORM eq "hcc" or $HIP_PLATFORM eq "rocclr") and $HIP_COMPILER eq "clang") {
     # Set default optimization level to -O3 for hip-clang.
     if ($optArg eq "") {
         $HIPCXXFLAGS .= " -O3";
